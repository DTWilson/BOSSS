<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Bayesian Optimisation for Simulation-based Sample Size • BOSSS</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Bayesian Optimisation for Simulation-based Sample Size">
<meta name="description" content="An interactive app and package for solving sample size determination problems for clinical trials with multiple design parameters, and where power (or other constraints / objectives) has to be estimated using simulation.">
<meta property="og:description" content="An interactive app and package for solving sample size determination problems for clinical trials with multiple design parameters, and where power (or other constraints / objectives) has to be estimated using simulation.">
<meta property="og:image" content="https://dtwilson.github.io/BOSSS/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">BOSSS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/BOSSS.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Examples.html">Examples</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="bosss-">BOSSS <a class="anchor" aria-label="anchor" href="#bosss-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of BOSSS is to help people use Bayesian optimisation to solve sample size determination problems when simulation is required to calculate operating characteristics.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the released version of tout from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BOSSS"</span><span class="op">)</span></span></code></pre></div>
<p>Or you can install the development version of BOSSS from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"DTWilson/BOSSS"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Suppose we want to design a cluster-randomised controlled trial (cRCT) which will compare the mean outcomes of two groups. We need to choose per-arm number of clusters, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>, and the number of participants in each cluster, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>. We would like to choose a design that jointly minimises the total numbers of both clusters and participants whilst ensuring the trial has 80% power to detect the target difference.</p>
<p>Suppose that there is no analytic power function for this problem, and that we need to use simulation to estimate power instead. This can make the search process very slow and unwieldy. BOSSS helps by using Bayesian optimisation to carefully choose a design to evaluate at each iteration, aiming for those that will give the most improvement over the best designs found so far.</p>
<p>Key features:</p>
<ul>
<li>Trial design spaces can have several dimensions.</li>
<li>Multiple objectives are handled in a non-scalarising way.</li>
<li>Design optimisation problems can be constrained by deterministic or stochastic funstion.</li>
</ul>
<p>The output of applying BOSSS to this problem is a set solutions which satisfy the power constraint and offer a range of trade-offs between the different objectives we are minimising (here, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>). For example, consider the following <code>BOSSS_solution</code> object which resulted from applying the BOSSS algorithm:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">solution</span><span class="op">)</span></span>
<span><span class="co">#&gt; Design variables for the Pareto set: </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;           m         n</span></span>
<span><span class="co">#&gt; 3  16.25000 31.250000</span></span>
<span><span class="co">#&gt; 23 26.68234 11.356760</span></span>
<span><span class="co">#&gt; 24 25.46286 12.628175</span></span>
<span><span class="co">#&gt; 27 32.23553  8.693621</span></span>
<span><span class="co">#&gt; 28 21.24456 17.364544</span></span>
<span><span class="co">#&gt; 30 44.50620  5.006974</span></span>
<span><span class="co">#&gt; 31 15.90497 33.592655</span></span>
<span><span class="co">#&gt; 32 15.97660 33.300705</span></span>
<span><span class="co">#&gt; 33 35.16044  7.472662</span></span>
<span><span class="co">#&gt; 34 18.11221 23.659648</span></span>
<span><span class="co">#&gt; 35 22.77665 14.799673</span></span>
<span><span class="co">#&gt; 36 19.53286 19.976495</span></span>
<span><span class="co">#&gt; 37 16.96081 26.999060</span></span>
<span><span class="co">#&gt; 39 39.15899  6.128533</span></span>
<span><span class="co">#&gt; 40 29.51204  9.758863</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Corresponding objective function values...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    N, alt (mean) m, alt (mean)</span></span>
<span><span class="co">#&gt; 3       507.8125      16.25000</span></span>
<span><span class="co">#&gt; 23      303.0250      26.68234</span></span>
<span><span class="co">#&gt; 24      321.5494      25.46286</span></span>
<span><span class="co">#&gt; 27      280.2435      32.23553</span></span>
<span><span class="co">#&gt; 28      368.9021      21.24456</span></span>
<span><span class="co">#&gt; 30      222.8414      44.50620</span></span>
<span><span class="co">#&gt; 31      534.2902      15.90497</span></span>
<span><span class="co">#&gt; 32      532.0320      15.97660</span></span>
<span><span class="co">#&gt; 33      262.7420      35.16044</span></span>
<span><span class="co">#&gt; 34      428.5285      18.11221</span></span>
<span><span class="co">#&gt; 35      337.0870      22.77665</span></span>
<span><span class="co">#&gt; 36      390.1981      19.53286</span></span>
<span><span class="co">#&gt; 37      457.9258      16.96081</span></span>
<span><span class="co">#&gt; 39      239.9872      39.15899</span></span>
<span><span class="co">#&gt; 40      288.0040      29.51204</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ...and constraint function values:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    s, alt (mean) s, alt (var)</span></span>
<span><span class="co">#&gt; 3      -1.635087  0.007324837</span></span>
<span><span class="co">#&gt; 23     -1.385545  0.006247190</span></span>
<span><span class="co">#&gt; 24     -1.515481  0.006771312</span></span>
<span><span class="co">#&gt; 27     -1.508727  0.006742163</span></span>
<span><span class="co">#&gt; 28     -1.556633  0.006953669</span></span>
<span><span class="co">#&gt; 30     -1.488637  0.006656733</span></span>
<span><span class="co">#&gt; 31     -1.410713  0.006342848</span></span>
<span><span class="co">#&gt; 32     -1.404385  0.006318540</span></span>
<span><span class="co">#&gt; 33     -1.522264  0.006800807</span></span>
<span><span class="co">#&gt; 34     -1.508727  0.006742163</span></span>
<span><span class="co">#&gt; 35     -1.488637  0.006656733</span></span>
<span><span class="co">#&gt; 36     -1.522264  0.006800807</span></span>
<span><span class="co">#&gt; 37     -1.348489  0.006111233</span></span>
<span><span class="co">#&gt; 39     -1.591789  0.007116091</span></span>
<span><span class="co">#&gt; 40     -1.442726  0.006468500</span></span></code></pre></div>
<p>We have sixteen designs to choose from. For example, the final design in the set involves 288 patients and 28 clusters in each arm. The estimated power for that design is <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mn>1</mn><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>1.535920</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0.82</mn></mrow><annotation encoding="application/x-tex">1 - 1/(1 + \exp(1.535920)) = 0.82</annotation></semantics></math>.</p>
<p>We can visualise the trade-offs between the two objectives by plotting the solution:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">solution</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
<p>For a detailed walkthrough of how to specify and solve a problems with BOSSS, see the “Getting started” tab. Other applications are collected in the “Examples” article.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing BOSSS</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Duncan Wilson <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DTWilson/BOSSS/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/DTWilson/BOSSS/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/DTWilson/BOSSS" class="external-link"><img src="https://codecov.io/gh/DTWilson/BOSSS/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Duncan Wilson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
